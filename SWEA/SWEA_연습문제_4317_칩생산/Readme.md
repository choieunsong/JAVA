# 문제 정의

1. HxW 크기의 웨이퍼에서 칩을 생산하려고 한다. 칩을 생산하기 위해서는 2x2 공간이 필요하다.
2. 웨이퍼 중간중간에 칩으로 사용 불가능한 영역이 1로 표시된다. 최대 생산 가능한 칩의 개수를 출력하시오
3. 5 ≤ H ≤ 10, 5 ≤ W ≤ 25

# 문제 풀이

1. dfs + 백트래킹
2. 만약 해당 칸에 칩을 생산할 수 있으면 2칸 건너뛰어서 dfs(r + 2, c, cnt+1) 호출한다.
3. 해당 칸에 칩을 생산할 수 없으면 1칸 건너뛰어서 dfs(r + 1, c, cnt) 호출한다.
4. 주의! 해당칸에서 칩을 생산할 수 있어도 한 칸 건너뛰고 칩을 생산했을 때 최댓값이 더 클 수 있다. 그러므로 dfs(r + 1, c, cnt)는 조건 없이 무조건 실행되게 해야 한다.
5. 시간초과를 해결하기 위해 한번 실행된 map 상태면 cnt를 저장해서 백트래킹 해야 한다. dp[1 << R][C]을 만들어서 c열일 때 맵의 세로칸의 상태(0인지 1인지)를 표시한다.

    ```java
    // 백트래킹
    if(r == 0){
        int flag = 0;
        for(int i = 0; i < R; i++){
            flag |= (map[i][c] << i);
        }
        if(dp[flag][c] >= cnt)  return;
        dp[flag][c] = cnt;
    }
    ```

    r이 0일때마다 같은 조건에서 탐색을 했는지 아닌지를 체크한다. 만약 같은 조건에서 탐색을 끝냈는데 dp[flag][c]의 값이 현재 cnt보다 크다면 더이상 탐색을 진행할 필요가 없으니 return한다.

# 정리

시간초과가 난다. 이걸 해결하기 위해서는 백트래킹을 적용해서 이미 한번 시도한 map이면 cnt를 저장해야 한다.

2차원 배열의 백트래킹을 고안해내는게 힘들었다. 블로그를 참고해서 짰는데 내 실력은 아닌걸로ㅠ