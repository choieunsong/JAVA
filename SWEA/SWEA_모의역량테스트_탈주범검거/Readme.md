# 문제 정의

1. 탈주범이 맨홀 뚜껑을 통해 지하터널의 한 지점으로 들어감. 터널은 N*M의 맵이고 7가지 모양의 터널로 연결되어 있다.
2. 탈주범은 1시간에 1칸 이동이 가능할 때, L 시간 후 위치할 수 있는 모든 경우의 수를 출력하시오
3. 5 ≤ N, M ≤ 50, 1≤ L ≤ 20, 한개 이상의 터널 존재

# 문제 풀이

bfs

1. 큐에 맨홀 시작 위치와 파이프 타입을 저장하고, 방문체크 해준다.
2. L만큼 반복하며 각 시간의 레벨별로 파이프 타입별로 사방탐색하며 갈 수 있는 칸을 큐에 넣어준다.
3. dr = {-1,1,0,0}, dc = {0,0,-1,1}로 사방탐색 배열을 만들어주고 파이프 타입별로 갈 수 있는 상하좌우 인덱스를 이차원 배열로 저장해준다. DIR = {{} , {0,1,2,3}, {0,1}, {2,3}, {0,3}, {1,3}, {1,2}, {0,2}};
4. 현재 위치에서 파이프 타입에 따라 갈 수 있는 칸을 탐색
5. 이동할 파이프 타입이 현재 위치의 파이프와 호환 가능하면 갈 수 있으므로 큐에 넣어준다.

# 정리

로직에 맞게 잘 구현했는데 답이 틀려서 디버깅을 했더니 방문 체크를 큐에서 빼낼 때 해서 생긴 문제였다. 같은 레벨에서 여러 칸에서 동일한 칸에 가려고 할 때, 먼저 그 칸을 선점하면 방문되었다고 표시해주고 다른 칸에서 오지 못하게 해야 하기 때문에 큐에 넣을 때 방문체크를 해줘야 한다.